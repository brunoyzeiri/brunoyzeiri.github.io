---
layout: post
title:  "Misogyny Identification Test"
excerpt: "This is a test description to test whether my test post will show up wholly or not"
date:   2019-10-22
categories: [code]
comments: true
---

```python
# coding = latin-1
import numpy as np
import pandas as pd
import nltk
import string
```

# Notes to Self:

### About the Data:
    - In the sample600***.xlsx we have that the categories we are more interested in are category, sentence, class, Lyrics_cleaned, but this sample dataframes are mostly of interest to verify accordance between the annotators that manually classified the lyrics, so it should not be, at least at a preliminary stage and for the purpose of my thesis, of big interest, useful for CLASSIFICATION purposes, but the sample size of 600 is a big drawback
    - final-tf-miso.xslx is of crucial interest, the columns I'm more intersted in over here are miso (binary), genre (text), Lyrics_cleaned, Lyrics_contentwords, decade

### What do I want to reach? A couple of ideas:

    - Can we identify misogyny in the lyrics? Using which information (text, decade, time, genre)?
    - Can we isolate identification to JUST lyrics? Can we do so on a balanced, artificially produced subsample?
    - What are some curious correlations? Are they trivial or interesting?
    - Can we find trends in the use of misogyny by time, genre, gender, popularity etc.?
    - Can we identify different ways of introducing misogyny in the lyrics? How about controlling by decade? By genre? Does it work better by isolating?


```python
df = pd.read_excel('final-tf-miso.xlsx')
```


```python
display(df.head())
display(df.shape)
```


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>ID.Dupe</th>
      <th>Week</th>
      <th>Song.Orig</th>
      <th>Artist.Orig</th>
      <th>Lyrics</th>
      <th>Source</th>
      <th>Chorus.Flag</th>
      <th>weekstring</th>
      <th>weeks</th>
      <th>...</th>
      <th>sing_week</th>
      <th>tot_week</th>
      <th>pkrank</th>
      <th>genre</th>
      <th>in_top10</th>
      <th>Gender</th>
      <th>Composition</th>
      <th>decade</th>
      <th>Lyrics_cleaned</th>
      <th>Lyrics_contentwords</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>17732</td>
      <td>NaN</td>
      <td>25-May-13</td>
      <td>#Beautiful</td>
      <td>MARIAH CAREY featuring MIGUEL</td>
      <td>Hop on the back of my bike Let the good wind b...</td>
      <td>http://metrolyrics.com/beautiful-lyrics-mariah...</td>
      <td>0</td>
      <td>25may2013</td>
      <td>25may2013</td>
      <td>...</td>
      <td>1</td>
      <td>16</td>
      <td>15</td>
      <td>Pop</td>
      <td>False</td>
      <td>B</td>
      <td>D</td>
      <td>2010</td>
      <td>Hop on the back of my bike Let the good wind b...</td>
      <td>hop back my bike let good wind blow your hair ...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>27758</td>
      <td>NaN</td>
      <td>6-Apr-13</td>
      <td>#thatPOWER</td>
      <td>WILL.I.AM featuring JUSTIN BIEBER</td>
      <td>And on I'm alive, I'm alive, I'm alive And on ...</td>
      <td>http://songlyrics.com/william/thatpower-lyrics</td>
      <td>0</td>
      <td>06apr2013</td>
      <td>06apr2013</td>
      <td>...</td>
      <td>1</td>
      <td>16</td>
      <td>17</td>
      <td>Pop</td>
      <td>False</td>
      <td>M</td>
      <td>D</td>
      <td>2010</td>
      <td>And on I'm alive, I'm alive, I'm alive And on ...</td>
      <td>i be alive i be alive i be alive i can fly i c...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>NaN</td>
      <td>22-Sep-01</td>
      <td>Gone</td>
      <td>'N SYNC</td>
      <td>N Sync Celebrity Gone There's a thousand words...</td>
      <td>http://songlyrics.com/n-sync/gone-lyrics</td>
      <td>0</td>
      <td>22sep2001</td>
      <td>22sep2001</td>
      <td>...</td>
      <td>1</td>
      <td>24</td>
      <td>11</td>
      <td>Pop</td>
      <td>False</td>
      <td>M</td>
      <td>G</td>
      <td>2000</td>
      <td>N Sync Celebrity Gone There's a thousand words...</td>
      <td>n sync celebrity gone there be word that i cou...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6</td>
      <td>NaN</td>
      <td>7-Mar-98</td>
      <td>I Want You Back</td>
      <td>'N SYNC</td>
      <td>N Sync Debut Album I Want You Back You're all ...</td>
      <td>http://songlyrics.com/n-sync/i-want-you-back-l...</td>
      <td>0</td>
      <td>07mar1998</td>
      <td>07mar1998</td>
      <td>...</td>
      <td>1</td>
      <td>24</td>
      <td>13</td>
      <td>Pop</td>
      <td>False</td>
      <td>M</td>
      <td>G</td>
      <td>1990</td>
      <td>N Sync Debut Album I Want You Back You're all ...</td>
      <td>n sync debut album i want you back you be i ev...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>12</td>
      <td>NaN</td>
      <td>24-Aug-85</td>
      <td>Looking Over My Shoulder</td>
      <td>'TIL TUESDAY</td>
      <td>* intro: F g f g * verse 1: F g If I'm calling...</td>
      <td>http://metrolyrics.com/looking-over-my-shoulde...</td>
      <td>1</td>
      <td>24aug1985</td>
      <td>24aug1985</td>
      <td>...</td>
      <td>1</td>
      <td>5</td>
      <td>61</td>
      <td>Rock</td>
      <td>False</td>
      <td>F</td>
      <td>G</td>
      <td>1980</td>
      <td>* intro:* verse 1:If I'm calling you out of th...</td>
      <td>intro verse i be call you blueit be it be neve...</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 27 columns</p>
</div>



    (26235, 27)


Copying the snippet underneath from Tommaso's code


```python
coder1 = pd.read_excel('sample600coder1.xlsx')
coder2 = pd.read_excel('sample600coder2.xlsx')
coder3 = pd.read_excel('sample600coder3.xlsx')
coder4 = pd.read_excel('sample600coder4.xlsx')

coder1 = coder1.iloc[:,:5] # the hidden values of the dropdown menus created a lot of empty columns, that I cut
coder2 = coder2.iloc[:,:5]
coder3 = coder3.iloc[:,:5]
coder4 = coder4.iloc[:,:5]

coder1.columns = ['id', 'artist', 'title', 'text', 'miso']
coder2.columns = ['id', 'artist', 'title', 'text', 'miso']
coder3.columns = ['id', 'artist', 'title', 'text', 'miso']
coder4.columns = ['id', 'artist', 'title', 'text', 'miso']

print(coder1.shape)
print(coder2.shape)
print(coder3.shape)
print(coder4.shape)
display(coder1.head())
```

    (600, 5)
    (600, 5)
    (600, 5)
    (600, 5)



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>artist</th>
      <th>title</th>
      <th>text</th>
      <th>miso</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10225</td>
      <td>FRANKIE FORD</td>
      <td>You Talk Too Much</td>
      <td>You talk too much, you worry me to death, You ...</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>9672</td>
      <td>FIREFALL</td>
      <td>Staying With It</td>
      <td>This is it, this is what I've waited for so lo...</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>28067</td>
      <td>YOUNG MONEY</td>
      <td>Roger That</td>
      <td>I'm in the collard green 6 cornbread in the gu...</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>28084</td>
      <td>YOUNG THUG</td>
      <td>Stoner</td>
      <td>this that stoner music nigga Stoner! Stoner Le...</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>13796</td>
      <td>JIM REEVES</td>
      <td>Is It Really Over</td>
      <td>Is it really over is this the end of the line ...</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>


First thing I want to make sure is that the coders actually did have the same things assigend to them, so let's verify this by creating a concatenated dataframe and then looking at the ids of the entries, these should be unique so if in the concatenating df we retain 600 unique IDs we can sail safely, we can simply work on a restricted view of the thing to speed up the process.


```python
verify_df = pd.concat([coder1['id'],coder2['id'],coder3['id'],coder4['id']], ignore_index=True)
print("Shape of the concatenated restricted dataframes:", verify_df.shape)
print("Unique values in the concatenated restricted dataframes:", len(verify_df.unique()))
```

    Shape of the concatenated restricted dataframes: (2400,)
    Unique values in the concatenated restricted dataframes: 2100


I infer from Tommaso's code that probably only the first 100 observations are unique across the different coders, let's check it with a similar procedure by differentiating the two things.


```python
verify100_df = pd.concat([coder1['id'][:100],coder2['id'][:100],coder3['id'][:100],coder4['id'][:100]], ignore_index=True)
verify500_df = pd.concat([coder1['id'][100:],coder2['id'][100:],coder3['id'][100:],coder4['id'][100:]], ignore_index=True)
print("Shape of the concatenated restricted dataframes, first 100 entries:", verify100_df.shape)
print("Unique values in the concatenated restricted dataframes, first 100 entries:", len(verify100_df.unique()))
print("Shape of the concatenated restricted dataframes, last 500 entries:", verify500_df.shape)
print("Unique values in the concatenated restricted dataframes, last 500 entries:", len(verify500_df.unique()))
```

    Shape of the concatenated restricted dataframes, first 100 entries: (400,)
    Unique values in the concatenated restricted dataframes, first 100 entries: 100
    Shape of the concatenated restricted dataframes, last 500 entries: (2000,)
    Unique values in the concatenated restricted dataframes, last 500 entries: 2000


So that settles it, the first 100 entries are common, while the last 500 change across dataframes, we can use this data for training before using the big data set, since I'm sure this one was manually annotaded and "should" be more accurate than the other (bigger or equal).

Schmidt, A., & Wiegand, M. (2017). A Survey on Hate Speech Detection using Natural Language Processing. Proceedings of the Fifth International Workshop on Natural Language Processing for Social Media. doi:10.18653/v1/w17-1101

Reading the above academic paper to have a more informed idea about feature selection, I intend on using Bag of Words and Word Embeddings on a first instance to train the models, and will try to see what LDA can yield in a later moment. (Dirk work's is also cited for what concerns meta information, interesting).

### Getting the features

First of all let's create a dataframe of the unique texts that the coders classified:


```python
text_df = pd.concat([coder1['text'],coder2['text'][100:],coder3['text'][100:],coder4['text'][100:]], ignore_index=True)
display(text_df.head())
display(text_df.shape)
```


    0    You talk too much, you worry me to death, You ...
    1    This is it, this is what I've waited for so lo...
    2    I'm in the collard green 6 cornbread in the gu...
    3    this that stoner music nigga Stoner! Stoner Le...
    4    Is it really over is this the end of the line ...
    Name: text, dtype: object



    (2100,)



```python
text_df.isnull().sum()

```




    62




```python
text_df = text_df.dropna().reset_index(drop=True)
text_df.shape
```




    (2038,)




```python
len(text_df.loc[text_df.apply(lambda x: not isinstance(x, (float, int)))])
```




    2036



We find out that among the labeled texts we have some errors, namely some of the lyrics turn out to be either NaN or a numeric type, we simply drop those for a total of 64 lost datapoints, not too happy about this but not going to ram my ahead against the wall.


```python
text_df = text_df.loc[text_df.apply(lambda x: not isinstance(x, (float, int)))].reset_index(drop=True)
```


```python
def preprocess(s):
    return [w.lower().strip(string.punctuation) for w in s.split()]
```


```python
preprocess(text_df[1])
```




    ['this',
     'is',
     'it',
     'this',
     'is',
     'what',
     "i've",
     'waited',
     'for',
     'so',
     'long',
     'startin',
     'now',
     'gotta',
     'trust',
     'these',
     'feelings',
     'comin',
     'on',
     'take',
     'a',
     'chance',
     'even',
     'though',
     'i',
     'feel',
     'like',
     'i',
     'should',
     'run',
     'stayin',
     'with',
     'it',
     'let',
     'my',
     'heart',
     'take',
     'me',
     'there',
     'got',
     'a',
     'feelin',
     "i'm",
     'goin',
     'somewhere',
     "i'm",
     'deep',
     'in',
     'it',
     'and',
     'i',
     'really',
     'do',
     'care',
     'wait',
     'a',
     'minute',
     'now',
     'boy',
     "don't",
     'walk',
     'out',
     'now',
     'i',
     'can',
     'see',
     'i',
     'can',
     'see',
     'your',
     'disbelievin',
     'eyes',
     "don't",
     'you',
     'know',
     'holdin',
     'back',
     'your',
     'love',
     'is',
     'so',
     'unwise',
     'take',
     'a',
     'chance',
     "ain't",
     'it',
     'time',
     'you',
     'took',
     'a',
     "lover's",
     'stand',
     'stayin',
     'with',
     'it',
     'let',
     'my',
     'heart',
     'take',
     'me',
     'there',
     'got',
     'a',
     'feelin',
     "i'm",
     'goin',
     'somewhere',
     'deep',
     'in',
     'it',
     'and',
     'i',
     'really',
     'do',
     'care',
     'wait',
     'a',
     'minute',
     'now',
     'stayin',
     'with',
     'it',
     'let',
     'my',
     'heart',
     'take',
     'me',
     'there',
     'got',
     'a',
     'feelin',
     "i'm",
     'goin',
     'somewhere',
     'deep',
     'in',
     'it',
     'and',
     'i',
     'really',
     'do',
     'care',
     'wait',
     'a',
     'minute',
     'now',
     'baby',
     'and',
     "don't",
     'walk',
     'out',
     'now',
     'stayin',
     'with',
     'it',
     'let',
     'my',
     'heart',
     'take',
     'me',
     'there',
     'got',
     'a',
     'feelin',
     "i'm",
     'goin',
     'somewhere',
     'deep',
     'in',
     'it',
     'and',
     'i',
     'really',
     'do',
     'care',
     'wait',
     'a',
     'minute',
     'now',
     'baby',
     "don't",
     'walk',
     'out',
     'stayin',
     'with',
     'it',
     'stayin',
     'with',
     'it',
     'stayin',
     'with',
     'it',
     'stayin',
     'with',
     'it',
     "don't",
     'hold',
     'back',
     'cause',
     'you',
     'gotta',
     'take',
     'a',
     'chance',
     'on',
     'me',
     'stayin',
     'with',
     'it',
     'staying',
     'with',
     'it',
     'stayin',
     'with',
     'it',
     'stayin',
     'with',
     'it',
     "don't",
     'hold',
     'back',
     'cause',
     'you',
     'gotta',
     'take',
     'a',
     'chance',
     'on',
     'me']




```python
# function that takes as input a single dataframe, namely df, and returns the N most frequent words in the
# corpus under scrutiny (i.e. the the lyrics of the songs that the coders classified)

def do_word_count(df, numdims):
    # we store the counts in word_count
    # using NLTK's FreqDist
    word_count = nltk.FreqDist()
    
    for i in range(len(text_df)):
        word_count.update(preprocess(text_df[i]))
            
    # keep_wordfreq is a list of (word, frequency) pairs
    keep_wordfreq = word_count.most_common(numdims)
    keep_these_words = [ w for w, freq in keep_wordfreq ]
    # print("Target words:\n", keep_these_words, "\n")
    
    return keep_these_words
```


```python
def test_wordcount():
    print("Doing a frequency-based cutoff: keeping only the N most frequent context words.")
    
    # with 10 dimensions
    keepwords = do_word_count(text_df, 10)
    print("Keeping only 10 dimensions, then I get:", keepwords, "\n")

    # with 100 dimensions
    keepwords = do_word_count(text_df, 1000)
    print("Keeping 1000 dimensions, then I get:", keepwords, "\n")
```


```python
test_wordcount()
```

    Doing a frequency-based cutoff: keeping only the N most frequent context words.
    Keeping only 10 dimensions, then I get: ['you', 'i', 'the', 'to', 'and', 'a', 'me', 'it', 'my', 'in'] 
    
    Keeping 1000 dimensions, then I get: ['you', 'i', 'the', 'to', 'and', 'a', 'me', 'it', 'my', 'in', 'on', 'love', 'that', 'your', "i'm", 'of', 'be', 'all', 'know', "don't", 'is', 'so', 'like', 'for', 'we', 'just', 'but', 'do', 'baby', 'got', 'with', 'up', 'no', "it's", 'when', 'this', 'can', 'what', 'now', 'get', 'if', "you're", 'one', 'go', 'time', 'she', 'out', 'down', 'come', "can't", 'girl', 'say', 'her', 'never', 'wanna', 'want', 'was', 'see', 'make', 'they', 'have', 'way', 'take', 'cause', 'let', 'back', 'are', "i'll", 'at', 'gonna', 'how', 'right', 'feel', 'tell', 'not', 'will', 'from', 'he', 'been', 'night', 'need', "ain't", 'there', 'man', "that's", 'as', 'heart', 'little', 'here', 'give', 'life', 'good', "i've", 'over', 'about', 'too', 'could', 'more', 'day', 'world', 'think', 'hey', 'why', 'said', 'away', 'keep', 'some', 'only', 'by', 'well', 'where', 'who', 'then', 'every', 'look', "there's", 'through', 'ever', 'ya', 'or', 'again', 'had', 'would', 'long', 'around', "she's", 'off', 'eyes', "we're", '', 'still', 'much', 'gotta', "won't", 'hold', 'mind', 'boy', 'find', 'run', 'better', 'home', 'our', 'things', 'put', "you've", 'really', 'stop', 'tonight', 'always', 'them', 'him', "let's", 'dance', 'sweet', 'his', "you'll", 'stay', 'were', 'us', 'am', 'show', 'rock', 'thing', "i'd", 'call', 'nothing', 'talk', 'nigga', 'something', 'hear', 'true', 'turn', 'yes', 'gone', 'believe', 'real', 'an', 'people', 'mine', 'than', 'alone', 'try', 'new', 'these', 'play', 'please', 'girls', 'na', 'before', 'even', 'light', 'everybody', 'everything', 'wrong', 'did', 'hard', 'going', 'made', 'live', 'walk', 'left', 'shit', 'leave', 'bout', 'big', 'same', 'dream', 'last', 'la', 'old', 'into', 'hand', 'touch', 'fuck', 'name', 'another', 'body', 'break', 'two', 'cry', "he's", 'shake', 'fire', 'wait', 'place', 'move', 'face', 'without', 'best', 'hands', 'should', "didn't", 'kiss', 'wish', 'together', 'someone', 'money', 'bad', 'niggas', "we'll", 'times', 'while', 'head', 'inside', 'high', 'song', 'woman', 'care', 'has', 'party', "what's", 'done', 'stand', 'lonely', 'bitch', 'change', 'forever', 'crazy', 'em', 'hit', 'sun', 'sing', 'myself', 'told', 'alright', 'lose', 'roll', 'side', 'makes', 'maybe', 'mean', 'nobody', 'thought', 'enough', 'blue', 'first', 'came', 'fine', 'other', 'knew', 'thinking', 'fall', 'comes', 'dreams', 'yourself', 'cold', 'because', 'hot', 'rain', 'free', 'beat', 'any', 'looking', 'round', 'start', 'remember', 'many', 'town', 'found', 'late', 'mama', 'friend', 'anything', 'lost', 'friends', 'work', 'ride', 'close', 'end', 'those', 'somebody', 'till', 'god', 'sure', 'kind', 'music', 'else', 'feeling', 'words', 'til', 'young', 'miss', 'understand', 'happy', 'arms', 'da', 'watch', 'own', 'used', 'sorry', 'ass', 'took', 'bring', 'soul', 'goes', 'each', 'though', 'honey', 'goin', 'days', 'after', 'hurt', 'line', 'once', 'whole', 'door', 'help', 'feelin', 'sky', 'hope', 'might', 'tears', 'fight', 'listen', 'trying', 'far', 'pretty', 'gettin', 'red', 'since', 'loving', 'gimme', 'talkin', 'must', 'fly', 'getting', 'die', 'forget', 'saw', 'today', 'smile', 'doing', 'game', 'nothin', 'strong', 'does', 'sometimes', 'heard', 'u', 'easy', 'ready', 'waiting', 'lady', 'knows', 'h', 'goodbye', 'feet', 'lie', 'years', 'until', 'open', 'their', 'chance', 'wake', 'top', 'fool', 'room', 'shine', "we've", 'gave', 'morning', 'hate', 'coming', 'n', 'living', "they're", 'set', 'house', 'fun', 'deep', 'its', 'may', 'jump', 'lot', 'throw', 'heaven', 'pain', 'wonder', 'babe', 'white', 'ask', 'lookin', 'matter', 'under', 'loved', 'falling', 'runnin', 'comin', 'such', 'doin', 'meet', 'water', 'behind', 'crying', 'lights', 'next', 'bit', 'full', 'lord', 'alive', 'tomorrow', 'talking', 'floor', 'darling', 'along', 'pay', 'guess', "y'all", 'seen', "couldn't", 'holding', 'slow', 'star', 'ha', 'gets', 'low', 'summer', 'tried', 'very', 'cuz', 'black', 'hair', 'road', 'bye', 'moment', 'tight', 'blame', "wouldn't", 'feels', 'seems', 'both', 'lay', 'float', 'city', 'lovin', 'somethin', "who's", 'hang', 'fast', 'whatever', 'wit', 'needs', 'running', 'met', 'drop', 'cool', 'im', 'hell', "you'd", 'wind', 'keeps', 'went', 'started', 'ring', 'born', 'apart', 'lips', 'control', 'catch', 'stars', 'paper', 'club', 'sleep', 'moon', 'hide', 'warm', 'hangover', 'part', 'sound', 'wants', 'takes', 'pull', 'daddy', 'near', "c'mon", 'son', 'street', 'shot', 'drink', 'guy', 'car', 'says', 'magic', 'mad', 'nice', 'funky', 'gon', 'child', 'phone', 'sad', 'reason', 'drive', 'boys', 'someday', 'fear', 'making', 'loves', 'reach', 'damn', 'soon', 'number', 'word', 'standing', 'sunshine', 'most', 'swear', 'felt', 'gangsta', 'wo', 'funk', 'tryin', "wasn't", 'wild', 'afraid', 'ground', 'hearts', 'nights', 'promise', 'clap', "i'ma", 'fresh', 'land', 'step', 't', 'river', 'gun', 'above', 'between', 'bed', 'straight', 'tired', 'save', "doesn't", 'bright', 'pop', 'calling', 'follow', 'lies', "somebody's", 'air', 'yours', 'beautiful', 'girlfriend', 'cut', 'wanted', 'makin', 'hood', 'broken', 'read', 'use', 'dead', 'mother', 'minute', 'sight', 'walking', 'satisfied', 'keys', 'burning', 'anymore', 'everywhere', 'dark', 'i’m', 'okay', 'seem', 'blow', 'thinkin', 'truth', 'leaving', 'spend', 'special', 'saying', 'being', 'type', 'telling', 'dat', 'jeans', "everybody's", 'bop', 'three', 'livin', 'worry', 'pray', 'pick', 'four', 'bitches', 'past', 'buy', 'eye', 'w', 'ba', 'upon', 'tryna', 'lover', 'fell', "she'll", 'bang', 'looks', 'everyone', 'broke', 'de', 'closer', '2', 'country', 'win', 'pass', 'glad', "isn't", 'playing', 'lil', 'push', 'kick', 'yo', '3', 'shoes', 'called', 'ice', 'war', 'diamond', 'y', 'feelings', 'turning', 'trouble', 'earth', 'track', 'mouth', 'don', 'trust', 'losing', 'anyone', 'dancing', 'scared', 'learn', 'ways', 'thank', 'l', 'yea', 'picture', 'block', 'treat', 'kill', 'doll', 'funny', 'taste', 'doo', 'sit', 'walked', 'wall', 'shoot', 'grow', 'wear', 's', 'o', 'shining', 'belong', 'count', 'summertime', 'half', 'somewhere', 'worth', 'share', 'perfect', 'act', 'already', 'gold', 'different', 'turned', 'hoo', '4', 'smoke', 'check', 'whenever', 'tear', 'dog', 'power', "love's", 'fuckin', 'window', 'corner', 'school', 'sign', 'taking', 'miles', 'fill', 'thousand', 'cash', 'band', 'lovers', 'few', 'sex', 'sea', 'send', 'beside', 'cried', 'romance', 'almost', 'year', 'higher', 'doubt', 'breath', 'radio', 'rest', 'memories', 'paradise', 'million', 'five', 'blind', 'caught', 'poor', 'sick', 'joe', 'dear', 'watching', 'hurts', 'bet', 'somehow', 'dress', 'rhythm', 'rockin', 'known', 'meant', 'lucky', 'chain', 'human', 'voice', 'looked', 'played', 'sayin', "he'll", 'middle', 'kisses', 'yet', 'ladies', 'heat', 'brother', 'changed', 'wine', 'darlin', 'ago', 'quit', 'cha', 'woke', 'ball', 'laugh', 'bought', 'great', 'begin', 'diamonds', 'front', 'whatcha', 'faith', 'stronger', 'angel', 'shorty', 'hoes', 'story', 'burn', 'kinda', 'bustin', 'limit', 'dont', 'ho', 'streets', 'joy', 'nowhere', "here's", 'rich', 'precious', 'p', '1', 'drunk', 'dick', 'fade', 'wife', 'ones', 'welcome', 'boogie', 'clothes', 'needed', 'loud', 'outta', 'west', 'everyday', 'clear', 'future', 'children', 'ead', 'green', 'knees', 'fake', 'wide', 'men', 'probably', 'yesterday', 'pussy', 'question', 'single', 'mistake', 'groove', 'week', 'freedom', 'california', 'amadeus', 'boom', 'style', 'chick', 'dreaming', 'scene', 'twice', 'mr', 'problem', 'means', 'dancer', 'coast', 'speak', 'proud', 'yep', 'carry', 'sugar', 'gas', 'nine', 'devil', 'eat', "we'd", 'family', 'tender', 'hurry', 'piece', 'queen', 'outside', 'laughing', 'asked', 'bottom', 'kissing', 'which', 'key', 'shut', 'knock', 'kid', 'lying', 'dying', 'likes', 'waited', 'flow', 'rules', 'anybody', 'blues', 'cars', 'vibe', 'steal', 'empty', 'realize', 'happened', 'secret', 'breathe', 'stranger', 'wonderful', 'strange', 'lock', 'wanting', 'happen', 'dirty', 'blood', 'longer', 'shawty', 'kids', 'bird', 'six', 'cannot', 'soft', 'dj', 'glass', 'cross', 'north', 'anyway', 'games', 'king', 'nation', 'message', 'dr', 'second', 'write', 'hangin', 'having', 'flame', 'georgia', 'pretend', 'niggaz', "that'll", 'boss', 'build', 'missing', 'deal', 'spot', 'shoulda', 'pride', 'tough', 'solo', 'blowin', 'mom', 'whip', 'ron-de', 'hundred', 'givin', 'weekend', 'women', 'hanging', 'lives', 'quick', 'movin', 'kissed', 'later', 'moonlight', 'lead', 'sittin', 'cup', 'dang', 'tha', 'suddenly', 'finally', "she'd", 'america', 'singing', 'takin', 'held', 'dope', 'singin', "life's", 'clock', 'job', 'mmm', 'point', 'mercy', 'illin', 'fa', 'legs', 'lets', 'darkness', 'rollin', 'small', 'anywhere', 'taken', 'sand', 'midnight', 'double', 'dry', 'sunday', 'bag', 'rather', 'stick', 'raise', 'dad', 'greatest', 'grows', 'mirror', 'moving', 'clean', 'rap', "haven't", 'fat', 'peace'] 
    



```python
def make_word_index(keep_these_words):
    # make an index that maps words from 'keep_these_words' to their index
    word_index = { }
    for index, word in enumerate(keep_these_words):
        word_index[ word ] = index

    return word_index 
```


```python
def co_occurrences(wordsequence):
    target_context_pairs = [ ]

    # for a sequence of length N, count from 0 to N-1 
    for index in range(len(wordsequence) - 1):
        # count that word[index] as a target co-occurred with the next word as a context item,
        # and vice versa
        target_context_pairs.append( (wordsequence[index], wordsequence[index+1]) )
        target_context_pairs.append( (wordsequence[index+1], wordsequence[index]) )

        if index + 2 < len(wordsequence):
            # there is a word 2 words away
            # count that word[index] as a target co-occurred with the but-next word as a context item,
            # and vice versa
            target_context_pairs.append( (wordsequence[index], wordsequence[index+2]) )
            target_context_pairs.append( (wordsequence[index+2], wordsequence[index]) )

    return target_context_pairs
```


```python
def test_cooccurrences():
    text = """You will not find Dr. Jekyll; he is from home," replied Mr. Hyde"""
    print("Testing the function that pairs up each target word with its context words.")
    print("Original text:", text, "\n")

    words = preprocess(text)
    cooc = co_occurrences(words)
    print("These are the target/context pairs:", cooc, "\n")
```


```python
test_cooccurrences()
```

    Testing the function that pairs up each target word with its context words.
    Original text: You will not find Dr. Jekyll; he is from home," replied Mr. Hyde 
    
    These are the target/context pairs: [('you', 'will'), ('will', 'you'), ('you', 'not'), ('not', 'you'), ('will', 'not'), ('not', 'will'), ('will', 'find'), ('find', 'will'), ('not', 'find'), ('find', 'not'), ('not', 'dr'), ('dr', 'not'), ('find', 'dr'), ('dr', 'find'), ('find', 'jekyll'), ('jekyll', 'find'), ('dr', 'jekyll'), ('jekyll', 'dr'), ('dr', 'he'), ('he', 'dr'), ('jekyll', 'he'), ('he', 'jekyll'), ('jekyll', 'is'), ('is', 'jekyll'), ('he', 'is'), ('is', 'he'), ('he', 'from'), ('from', 'he'), ('is', 'from'), ('from', 'is'), ('is', 'home'), ('home', 'is'), ('from', 'home'), ('home', 'from'), ('from', 'replied'), ('replied', 'from'), ('home', 'replied'), ('replied', 'home'), ('home', 'mr'), ('mr', 'home'), ('replied', 'mr'), ('mr', 'replied'), ('replied', 'hyde'), ('hyde', 'replied'), ('mr', 'hyde'), ('hyde', 'mr')] 
    


### Creating the Space


```python
def make_space(df, word_index, numdims):

    # relevant words: those that have an entry in word_index
    relevant_words = set(word_index.keys())

    # space: a mapping from relevant_words to an array of integers (raw counts)
    space = { }
    # fill the space with all zeros.
    for word in relevant_words:
        space[ word ] = np.zeros(numdims, dtype = np.int)

    ##
    # Design decision: We want to take sentence boundaries into account
    # when computing distributional representations.
    # So we need to detect sentence boundaries first.
    sent_detector = nltk.data.load('tokenizers/punkt/english.pickle')

    # We iterate over the corpus files
    # and count word co-occurrences in a window of 2
    for i in range(len(df)):
        text = df[i]
        # split the text into sentences
        sentences = sent_detector.tokenize(text)
        # process one sentence at a time
        for sentence in sentences:
            words = preprocess(sentence)

            # determine pairs of co-occurrences to count,
            # and store them in the matrix
            for target, cxitem in co_occurrences(words):
                # are these two words relevant?
                if target in relevant_words and cxitem in relevant_words:
                    # what is the row for this context item?
                    cxitem_index = word_index[ cxitem]
                    # now count
                    space[ target ][cxitem_index] += 1


    return space
```


```python
def test_space():
    numdims = 1000
    # which words to use as targets and context words?
    ktw = do_word_count(text_df, numdims)
    # mapping words to an index, which will be their column
    # in the table of counts
    wi = make_word_index(ktw)
    words_in_order = sorted(wi.keys(), key=lambda w:wi[w])
    
    print("word index:")
    for word in words_in_order:
        print(word, wi[word], end= " ")
    print("\n")

    space = make_space(text_df, wi, numdims)
    print(type(space))
    
    print("some words from the space")
    for w in words_in_order[:10]:
        print(w,  space[w], "\n")
    
```


```python
sent_detector = nltk.data.load('tokenizers/punkt/english.pickle')
```


```python
test_space()
```

    word index:
    you 0 i 1 the 2 to 3 and 4 a 5 me 6 it 7 my 8 in 9 on 10 love 11 that 12 your 13 i'm 14 of 15 be 16 all 17 know 18 don't 19 is 20 so 21 like 22 for 23 we 24 just 25 but 26 do 27 baby 28 got 29 with 30 up 31 no 32 it's 33 when 34 this 35 can 36 what 37 now 38 get 39 if 40 you're 41 one 42 go 43 time 44 she 45 out 46 down 47 come 48 can't 49 girl 50 say 51 her 52 never 53 wanna 54 want 55 was 56 see 57 make 58 they 59 have 60 way 61 take 62 cause 63 let 64 back 65 are 66 i'll 67 at 68 gonna 69 how 70 right 71 feel 72 tell 73 not 74 will 75 from 76 he 77 been 78 night 79 need 80 ain't 81 there 82 man 83 that's 84 as 85 heart 86 little 87 here 88 give 89 life 90 good 91 i've 92 over 93 about 94 too 95 could 96 more 97 day 98 world 99 think 100 hey 101 why 102 said 103 away 104 keep 105 some 106 only 107 by 108 well 109 where 110 who 111 then 112 every 113 look 114 there's 115 through 116 ever 117 ya 118 or 119 again 120 had 121 would 122 long 123 around 124 she's 125 off 126 eyes 127 we're 128  129 still 130 much 131 gotta 132 won't 133 hold 134 mind 135 boy 136 find 137 run 138 better 139 home 140 our 141 things 142 put 143 you've 144 really 145 stop 146 tonight 147 always 148 them 149 him 150 let's 151 dance 152 sweet 153 his 154 you'll 155 stay 156 were 157 us 158 am 159 show 160 rock 161 thing 162 i'd 163 call 164 nothing 165 talk 166 nigga 167 something 168 hear 169 true 170 turn 171 yes 172 gone 173 believe 174 real 175 an 176 people 177 mine 178 than 179 alone 180 try 181 new 182 these 183 play 184 please 185 girls 186 na 187 before 188 even 189 light 190 everybody 191 everything 192 wrong 193 did 194 hard 195 going 196 made 197 live 198 walk 199 left 200 shit 201 leave 202 bout 203 big 204 same 205 dream 206 last 207 la 208 old 209 into 210 hand 211 touch 212 fuck 213 name 214 another 215 body 216 break 217 two 218 cry 219 he's 220 shake 221 fire 222 wait 223 place 224 move 225 face 226 without 227 best 228 hands 229 should 230 didn't 231 kiss 232 wish 233 together 234 someone 235 money 236 bad 237 niggas 238 we'll 239 times 240 while 241 head 242 inside 243 high 244 song 245 woman 246 care 247 has 248 party 249 what's 250 done 251 stand 252 lonely 253 bitch 254 change 255 forever 256 crazy 257 em 258 hit 259 sun 260 sing 261 myself 262 told 263 alright 264 lose 265 roll 266 side 267 makes 268 maybe 269 mean 270 nobody 271 thought 272 enough 273 blue 274 first 275 came 276 fine 277 other 278 knew 279 thinking 280 fall 281 comes 282 dreams 283 yourself 284 cold 285 because 286 hot 287 rain 288 free 289 beat 290 any 291 looking 292 round 293 start 294 remember 295 many 296 town 297 found 298 late 299 mama 300 friend 301 anything 302 lost 303 friends 304 work 305 ride 306 close 307 end 308 those 309 somebody 310 till 311 god 312 sure 313 kind 314 music 315 else 316 feeling 317 words 318 til 319 young 320 miss 321 understand 322 happy 323 arms 324 da 325 watch 326 own 327 used 328 sorry 329 ass 330 took 331 bring 332 soul 333 goes 334 each 335 though 336 honey 337 goin 338 days 339 after 340 hurt 341 line 342 once 343 whole 344 door 345 help 346 feelin 347 sky 348 hope 349 might 350 tears 351 fight 352 listen 353 trying 354 far 355 pretty 356 gettin 357 red 358 since 359 loving 360 gimme 361 talkin 362 must 363 fly 364 getting 365 die 366 forget 367 saw 368 today 369 smile 370 doing 371 game 372 nothin 373 strong 374 does 375 sometimes 376 heard 377 u 378 easy 379 ready 380 waiting 381 lady 382 knows 383 h 384 goodbye 385 feet 386 lie 387 years 388 until 389 open 390 their 391 chance 392 wake 393 top 394 fool 395 room 396 shine 397 we've 398 gave 399 morning 400 hate 401 coming 402 n 403 living 404 they're 405 set 406 house 407 fun 408 deep 409 its 410 may 411 jump 412 lot 413 throw 414 heaven 415 pain 416 wonder 417 babe 418 white 419 ask 420 lookin 421 matter 422 under 423 loved 424 falling 425 runnin 426 comin 427 such 428 doin 429 meet 430 water 431 behind 432 crying 433 lights 434 next 435 bit 436 full 437 lord 438 alive 439 tomorrow 440 talking 441 floor 442 darling 443 along 444 pay 445 guess 446 y'all 447 seen 448 couldn't 449 holding 450 slow 451 star 452 ha 453 gets 454 low 455 summer 456 tried 457 very 458 cuz 459 black 460 hair 461 road 462 bye 463 moment 464 tight 465 blame 466 wouldn't 467 feels 468 seems 469 both 470 lay 471 float 472 city 473 lovin 474 somethin 475 who's 476 hang 477 fast 478 whatever 479 wit 480 needs 481 running 482 met 483 drop 484 cool 485 im 486 hell 487 you'd 488 wind 489 keeps 490 went 491 started 492 ring 493 born 494 apart 495 lips 496 control 497 catch 498 stars 499 paper 500 club 501 sleep 502 moon 503 hide 504 warm 505 hangover 506 part 507 sound 508 wants 509 takes 510 pull 511 daddy 512 near 513 c'mon 514 son 515 street 516 shot 517 drink 518 guy 519 car 520 says 521 magic 522 mad 523 nice 524 funky 525 gon 526 child 527 phone 528 sad 529 reason 530 drive 531 boys 532 someday 533 fear 534 making 535 loves 536 reach 537 damn 538 soon 539 number 540 word 541 standing 542 sunshine 543 most 544 swear 545 felt 546 gangsta 547 wo 548 funk 549 tryin 550 wasn't 551 wild 552 afraid 553 ground 554 hearts 555 nights 556 promise 557 clap 558 i'ma 559 fresh 560 land 561 step 562 t 563 river 564 gun 565 above 566 between 567 bed 568 straight 569 tired 570 save 571 doesn't 572 bright 573 pop 574 calling 575 follow 576 lies 577 somebody's 578 air 579 yours 580 beautiful 581 girlfriend 582 cut 583 wanted 584 makin 585 hood 586 broken 587 read 588 use 589 dead 590 mother 591 minute 592 sight 593 walking 594 satisfied 595 keys 596 burning 597 anymore 598 everywhere 599 dark 600 i’m 601 okay 602 seem 603 blow 604 thinkin 605 truth 606 leaving 607 spend 608 special 609 saying 610 being 611 type 612 telling 613 dat 614 jeans 615 everybody's 616 bop 617 three 618 livin 619 worry 620 pray 621 pick 622 four 623 bitches 624 past 625 buy 626 eye 627 w 628 ba 629 upon 630 tryna 631 lover 632 fell 633 she'll 634 bang 635 looks 636 everyone 637 broke 638 de 639 closer 640 2 641 country 642 win 643 pass 644 glad 645 isn't 646 playing 647 lil 648 push 649 kick 650 yo 651 3 652 shoes 653 called 654 ice 655 war 656 diamond 657 y 658 feelings 659 turning 660 trouble 661 earth 662 track 663 mouth 664 don 665 trust 666 losing 667 anyone 668 dancing 669 scared 670 learn 671 ways 672 thank 673 l 674 yea 675 picture 676 block 677 treat 678 kill 679 doll 680 funny 681 taste 682 doo 683 sit 684 walked 685 wall 686 shoot 687 grow 688 wear 689 s 690 o 691 shining 692 belong 693 count 694 summertime 695 half 696 somewhere 697 worth 698 share 699 perfect 700 act 701 already 702 gold 703 different 704 turned 705 hoo 706 4 707 smoke 708 check 709 whenever 710 tear 711 dog 712 power 713 love's 714 fuckin 715 window 716 corner 717 school 718 sign 719 taking 720 miles 721 fill 722 thousand 723 cash 724 band 725 lovers 726 few 727 sex 728 sea 729 send 730 beside 731 cried 732 romance 733 almost 734 year 735 higher 736 doubt 737 breath 738 radio 739 rest 740 memories 741 paradise 742 million 743 five 744 blind 745 caught 746 poor 747 sick 748 joe 749 dear 750 watching 751 hurts 752 bet 753 somehow 754 dress 755 rhythm 756 rockin 757 known 758 meant 759 lucky 760 chain 761 human 762 voice 763 looked 764 played 765 sayin 766 he'll 767 middle 768 kisses 769 yet 770 ladies 771 heat 772 brother 773 changed 774 wine 775 darlin 776 ago 777 quit 778 cha 779 woke 780 ball 781 laugh 782 bought 783 great 784 begin 785 diamonds 786 front 787 whatcha 788 faith 789 stronger 790 angel 791 shorty 792 hoes 793 story 794 burn 795 kinda 796 bustin 797 limit 798 dont 799 ho 800 streets 801 joy 802 nowhere 803 here's 804 rich 805 precious 806 p 807 1 808 drunk 809 dick 810 fade 811 wife 812 ones 813 welcome 814 boogie 815 clothes 816 needed 817 loud 818 outta 819 west 820 everyday 821 clear 822 future 823 children 824 ead 825 green 826 knees 827 fake 828 wide 829 men 830 probably 831 yesterday 832 pussy 833 question 834 single 835 mistake 836 groove 837 week 838 freedom 839 california 840 amadeus 841 boom 842 style 843 chick 844 dreaming 845 scene 846 twice 847 mr 848 problem 849 means 850 dancer 851 coast 852 speak 853 proud 854 yep 855 carry 856 sugar 857 gas 858 nine 859 devil 860 eat 861 we'd 862 family 863 tender 864 hurry 865 piece 866 queen 867 outside 868 laughing 869 asked 870 bottom 871 kissing 872 which 873 key 874 shut 875 knock 876 kid 877 lying 878 dying 879 likes 880 waited 881 flow 882 rules 883 anybody 884 blues 885 cars 886 vibe 887 steal 888 empty 889 realize 890 happened 891 secret 892 breathe 893 stranger 894 wonderful 895 strange 896 lock 897 wanting 898 happen 899 dirty 900 blood 901 longer 902 shawty 903 kids 904 bird 905 six 906 cannot 907 soft 908 dj 909 glass 910 cross 911 north 912 anyway 913 games 914 king 915 nation 916 message 917 dr 918 second 919 write 920 hangin 921 having 922 flame 923 georgia 924 pretend 925 niggaz 926 that'll 927 boss 928 build 929 missing 930 deal 931 spot 932 shoulda 933 pride 934 tough 935 solo 936 blowin 937 mom 938 whip 939 ron-de 940 hundred 941 givin 942 weekend 943 women 944 hanging 945 lives 946 quick 947 movin 948 kissed 949 later 950 moonlight 951 lead 952 sittin 953 cup 954 dang 955 tha 956 suddenly 957 finally 958 she'd 959 america 960 singing 961 takin 962 held 963 dope 964 singin 965 life's 966 clock 967 job 968 mmm 969 point 970 mercy 971 illin 972 fa 973 legs 974 lets 975 darkness 976 rollin 977 small 978 anywhere 979 taken 980 sand 981 midnight 982 double 983 dry 984 sunday 985 bag 986 rather 987 stick 988 raise 989 dad 990 greatest 991 grows 992 mirror 993 moving 994 clean 995 rap 996 haven't 997 fat 998 peace 999 
    
    <class 'dict'>
    some words from the space
    you [2276 3546 1494 2571 1884  628 2508 1040  790  608  483 1659 1155  398  522
      448  589  511 1979 1028  352  553  637  768  158  498  599 1058  762  586
      689  348  269  294  779  194 1038  838  401  458 1041  222  185  379  199
       76  181  222  243  612  377  537  128  292  582  904  128  739  560   81
      468  277  349  304  354  186  530  452  185  273  374  171  406  501  141
      303  184   67  156  104  555  198  209   60   86  135   99   65  135  263
       98  130   79  159  192  102  251  187  118   54  430   85  222  176  167
      173   69  162   84  118  227  155  154   98  198   72   80  176   22  114
       99  119  232   61  131   60   79   54   29   40  140  110  208  248  182
       78   88  134  112  200  145   26  115  101   45  132  122   93  124   42
       50    9   72   51   27   41  124  279   38   37  202   32   74  108  100
       59   73   51  119  213   48   69   99   45  154   34   21   59   81   50
       70   94   16   21   59   86   24   17  116   87   14   27  132   76  154
       24   33  135   73  107   81   30  154   74   18   26   24   31   27   28
       42   13   87  121   22   19   27   81   26  103   30   14   23   84   42
       77   21  135   44   11  110   72  106   89   25   63   12   39   17   15
       23   65   22   58   38   38   34   85   12   14   12   48   23   30   32
       30   55   32   22   43    4   29   25  115   18   63   24   18   75   33
       47   28   47   68   21   21   84   27   21   76  112   58   35   13   46
       12   83   29   14   27   24   25   25   23   34   85   14   28   71   13
       26   16  109   61   12   13   30   47   15   28   42   54   24   51   20
       17   26   18   16   70   10  134   77   53   14    5   65   29   36   23
       17   72   38   23   10   21   37   67    8   10   28   74   21   31    5
        9   39   17   24   49   70    8   66   62    9   15   12   11   11   41
      100    1   13   30   18   22   31   44   43   36   31   37   19   25   11
       11   36   40    4   13   34   30   24    7   21   35    9   31   17   51
       22    3   21   22    8   18    7    9    9   92   13   40   17    5    9
        3   36    9   13   11    9   49   52   10   19   12   14   25   56    8
       50   22   35   10   67    8   37    8    5   12   24    6   34   19    2
       43    3    7   16   14    5   18   14   28   25   46   20    1   38   16
       31   11   18   10   12   18    4   17   18   27    6    6    9    4    9
       26   49   33    8    8   14   15    6    6   34   33    8   10    9   64
       15    9   14   47    8   26   15   10   35   10    8   11   17    4    6
       17    8   36   30   11    4    3   18    3   13   34    0   13    4    5
       11   18   12   44    6   11   10    4   13   10    6   16    6   49   11
        2   36    7    8   14    8   25   15   17    4   15   42   17   15   18
        7    7    8   10   30   17   24    5    7    3    6    9    8    6    6
        2   13   55    3   23    0    6   17   12    2    2   28   20    7    4
        5   12   14    7    0   19   35   15   23    4   26    2    5   21   22
        4    3    8   22   20   13    3    5    4    9   16    0    3   22   26
        4    8   12    9   14   23    5   26    5   13   16   20    3   53    2
        7    1   12    5    1   26   12   21    3    7    4   21   10    9    6
        7   17   14   18   29   14    3    7   18    1   30   10    5   23   11
       28    1   10   12   10   15    5    3    3   23    5    2    3    2   10
        2    7    1    2    2    2   34   20   14    5   10   15    2   55    3
        5    6   10   45    7    0    4   14    5   10   20    3   13    9    9
        1    6    4   63   15    1    4    4    7   11    2   30   18    8    3
       15    3    2    2    4   35   11   10    2    4    6    5    4    7    2
       10    5   13    3    0    1    1   21    6   13   15   47   15   11    2
        1    1   10    6    3    7   20    7    1    4   10   13    1    8    3
        7   32   15   33   10   34    0    4    8   16    6   10    2    5    6
        4   11   25    1    6    9    7    4    9    7    5   16    5    8    0
        0   12   14    6    1    5    1    4    4   13    3    5   24    5    1
       11   22    1    2   12   12    1    2    5    5   13    3    0   10    0
       23   11    9    2    4    7    1   13    7    8    3   12    2    1    6
        4    3    2   11    4    5   14   10    1   15    9    3    8    4    3
        1    0    1    8    3   13    2   13    0    1    5    2    4    8    6
        2   14    4    2    0    1   14    3    0    8    3    2    2    3   19
       15    2   57    1    2    6   15    4   11    9    0    0    3    5    7
       15    5    4    5    1   28    4    1   14    0    5    0   10   30    3
        9    1    6    6    3    8    0   12    1   13    8    6    0   16    6
        4    0    5    0    5    9    3    7    8    1   14    5   14    0   11
       34    4    4    3    4   10    6    2    0   10    0    2   18    5    3
        8    0    4    2   16   11    4   11    2    0    0    1    4   12    5
        3    0    4   15    4    2    1    0    5    2    1    6   65    0   10
        3    0    1    8   30    2    2    1    3    4    1    4    3    5    4
        2    8    3    4    8    3    4   13    3    4] 
    
    i [3546 1908 1601 1510 1858  838  934 1331  835  356  311 1382 1277  627  319
      268  663  705 2264 1273  297  532  609  312  140  721  824 1014  500  946
      201  308  336  263  762  262 1020  675  380  441  586  198  221  449  290
       88  153  183  163  989  281  446  308  395 1227  966  663  640  133   76
      401  251  240  366  107  162   58   73  128   57  385  116  590  230  164
      394   76   41  207  155  765  332  114  137  203  191   92   42  164  195
       99   61   30   99  123  117  463  122  143   66  479  123  223  350  127
      159   62  186   81  194  139   83  131  136  149   49   73  174  211   69
      121  279  233   97  102   45   86   99   13   56  136  111  225  234   87
      123  135  155   57   51   90   20   92   76   35  203   95   79   64   73
      106    8   58   30   22   17  131   43   33  552   43   63   81   61   76
       54   55   42   69  153   77   49  227   75  191   36   29   21   59   55
       71   94   24   43   69   26   61   13  110  117   27   28  107   93  154
       25   33   89  100   67   57   44   45   22   10   45   80   60   15   18
       28   36   88   68   22   34   13   34   35   70   22   75   28  128   33
       44   43   33   31   10  129  150   63  303   26   44   38   30   30    6
       48   53   29   56   21   32   13  167    5   15   18   77  132   47   18
       47   25   44   90   90   15   61  139  116   25   65   29   17    1   46
      145   12  246   23   45   47   79   54   17  207   87   43   14   32   17
       17   71   16   25   31   44   21   19   12   38  104   22   24  145   13
       27   23   35   73   10   47   37   18   20   12   27   30   36   46    9
       16   31   34   17   34   16  153   92   30   35   10   22   43   59  107
       28   42   21   12   17   20   56   34    6   21   21   47   19   29    4
       39   56   34   14  122   60   21   24   37   18   13   15    5   19   48
       11    4   24   56   29   12   49   54  144   50   26   29   13   27   36
        3   87   80   23    4   17   12   12   22   50   31   13   41   17   25
       24   13   13   33   26   18   11   17    2   55   23   57   25   24   16
        2   10   12   14    7   13   39    8    6   10   20   21  116   31   14
       41   14   14   27   84   21   15   12    5   13   40   13   10   12   12
        5    6    0   30   18   22   12   15   32   13   32  139   12   35   75
        3    7    8    8    6   27   12   62    5   52    4    7   21    1   12
       18   17   73    7    8    3   26    1    7   13   17    5    6   20   12
        9    9    7   86   17   10    4   22    9   11    1   40   22   15   44
       19   10   30   17    3   10   11   33   10   34   15    1   21   17    3
        1   17    2   18    6   12   10   15   27    6   13   16    5   12    9
        2    7    6   10    8   27   24    7   23    9    2    5   30   15   20
        9   11    5    3   11  109   54   13   16    2   14   36    6   20   14
        4   15   51    0    1    2   17    9    4    1    3   12    1   10   15
        9    6    2    3    7    3    7   10   11    7   29   13   10    9   71
        1    8   12   18   22   13    6   12    9    9    7   17    7   14   33
        7    7   14   19   18   19   22   10   26    4   17    7    1    8    2
        5    1   17   11    5   16   49    8    3    5   19   11    8   23    0
        2    5    7   51    5    7    2   11    5    6    8   10    5    7    8
       18    8    8    1    3    7   12    9    5   10    2    1   15    6   11
       33   13    9   14    4   10   12   10   12    1   11    8    7   20   28
       37   11    5    9   13    0   13   20    4   17   34    9    9   14   29
        2    3    2   31   26    6    1    9    6    9    5   18    6   11    4
        5    6    1   19    9   15    6   16    4    0   13    4    5   10    2
        3    6    8    3    8    5    6    2    9    9   10    6   25    5   18
        4    8    6    7    7    5    3    9    5    5   16   15    1   13    1
       12    1    7   38   18    5    1    3   15   21    7    5    4   11   30
        6   38    0    1    8    7    2    6    6   11    7    9   10   16    3
       31    5   20   25    9   34    2    2    4   20    3    2   11   11    3
        6   16    0    0   18    1    2    3    3    1    9    0    4    1    8
        2    8    4    5    4    3    8   51    5    4    3   12    5    5    5
        7    3    4    2    5    0    8   10   10    4    7    4    5    6    7
       12    0    8    6    6   14    5    7    4   22    5    1    1   22    4
        6    8    1    1    1    5   17    1    3    2    2    2    4    6    9
       31    2    2    5    9    5    2    3   13    2    2   14    5    8    3
        5    9    2   23    3   30    9    7   34    0    2    7    3    3    2
        3    5   11   17    0    3    4   14    3    1    1    6    0   14    4
        3    0    1    3   10   17    8    4    1    2   27    1    5   10    3
        9    5    4   30    8    4    8    1    3    8    4    1    3    2    1
        1    1    5    6   16    3    1    4    0   15    1   12    5   16    5
        3    6    4   16    0    2    1    5   10    5    5    1    0    0    2
        2    4    1    7    8    6    7    2    6   12    2    2    1    5    0
        5    2    3    3    3    4    7   32    7    5] 
    
    the [1494 1601  676 1782 1794  156  615  571  150 2450 1406  424  747   91  698
     2190  318  927  195  217  780  197  344  688  359  318  343  219  196  366
      640  593  115  291  433  183  152  121  218  216  161  361  739  212  471
      184  368  407  125  120  278  101   69   99   83   70  192  215  150  183
       89  824  138  170  126  274  301   81  416   87   63  219  197  107  152
      141  490  131   47  499   48   78   94  325  227  114   86   49   88   66
      120   96  136  170  126   31   46   81  292  616   43   44   52   60   80
       51   18  239  230   68  215  167   76   51  115   38  279   39   22   92
       61   79   38   36   89   69  165   88   78   33   80   19   41   38   38
       31   40   65   70   17   46   13  257   73   59   47   57   66   51   24
       47   61  125   56   14   41   59   46   35   67   70   33  138   36   65
       50   73   54   16   51   30  124   41   55   30   38   12  150   32   47
       33    9   41   43   71   17  126    7   64   44  206   38   17   44   32
       22   47   18   29   81   49   56   31   66   58  324   68   78    7   87
       92   49   70   68   39    2   27   38   25   20   43   23   82   22   97
       38   52   26  220   49   15   40   33   19   31   14   44   44   58   46
      115   70   34   48   49   68   48   30   41  121   38   17   26   31   23
       36   16    9   19  110  283   43    3   14   17   31   34  136   18   34
       12   10   23    4   40  110   48   13   86   17   17   41   81   40    9
       62   13   22  169   25  152    1   33   36   89   48    8   52   28    8
       17   15   16   38   15   12   55   21  170    6   16   82   41    8   82
      132    2   56   84   60   24   29   26    9   14    0   36    7    3    7
       27   61   48   16   69    8   20   16   32   69   45   23   73   20   98
      120   21   32  213   14   18   52   50   23    8   10   32    6   18   38
       15    3   16    5   22    5    3   28   29   22   21   17   93   21    9
       37   17   23   32    5   11   31   24   13   32    8   14    5   35   41
       25    3   30   11   97   19   46   32   20   17  129   14   11   24   38
       23   45   85   22   47   15   14   58   19    9   14   79   10   14   24
        7   21   16   59   11   11   25   15    5    7   20  114   24   10  121
       50    3   13   47   15   15   24  151   17   29   28    5   26   15    9
       16    6   24    7   30   19   67    4   44   16   22   15  107    1   52
       14   32    4   17    7   17   16    0   90   22    7   46   10   24    3
       18   18   11    9   31    9   22   57    3   90   12   24   11   24    9
       12   12    7   14   87   14  113    9  112   20   15    2   43   50    4
       15   17    9   14    3   25   82   20   13   15   44   16   51    4    6
       13   11   29   82    4   47   10   39    6   36    4    8   31    7   10
       24   38   26   43   50   12   17    4   13   62    4    7   14    3   91
        8   39   14   39   10    2   50   16    7   75   35   36   42   32   21
        2   30    3   17   21    9    4   25    1   88    2    4    1   30    7
        6   41    3   21    7   17   17   13   14   36    7  149   19    2    6
       65   10    7    6   20    5   88    8   26   14    7    5   38    6    1
        2   16   19    7   23    3   17   29   14   20   61   11   25   11    1
       16    9   16   14   20   13   11    4   13    0   14    3   31    7   12
        1   15    5    2    9    7    7    2    7   13   20   18   36    6   10
        6    9   20   40    2    8    4    4    3   36    3    3   25    6    5
        7   22   63    7    6    3    4   15    0    9   16   63   18    4    4
        6   23   23    3   18   14   30   16   12    5   14    4    4   13    4
       16    6    6   25    8    4    6    8   36    2    7   45   52   12   60
        9    6   20    3   14   35    5    0   10   56   21    3   16    7    7
       26    7    6    2   58   74   29    4    0    7   11   14   34   13    4
        4   22    8    0   11   12   57   13   10    1   10   13   17    9   10
       27    2    3   88   15    6   30   56    5    3   10    3    4    2    2
        6    8   13    6   12    7   21   32    3    5    4   13    8    6   29
        9    2   11   37    5    9   53   10    2   16    0    4   14    3    3
       12    8   13   45   14    8   12    8    5    7   39    8    8   45   26
        1   10    2    6   20   12    1    3   12   21    0    1   21   35    6
        6    0    9    8    9    1   42    0    0    8    5    4   28    2    1
        2   11   14    4    3   40    3    2    7    5   10   16   26   24   11
        2   65   28    6   29   11   18   31    4    4    5    4   20   26    5
       44   20    6    2    0    3    8   14    1    8    2    5   20   12    4
        8   17    8    6   30   12    5    3    8   11   11   14   23    2   12
       16   16   14    0   13    8    4    6   16    5    1   13   29   16    9
        6   17   30    0    6    2    0    9    4    9    0    0    4    6   17
        5    5    6    6    3    6   39    6   16    3    7    0    5   18    7
        3    5    8    2    3   12    1   40    6    6   13    4    1    2    5
        6   31   14    1    3    4   39   16   12    4    0   20    0    8   10
        8   51    3   38    6    8    8    3    3   11] 
    
    to [2571 1510 1782  492  580  738 1700 1059  732  185  300  479  257  392  394
      101 1055  225  421  377  245  267  219  268  235  410  179  483  204  620
      165  288  248  328  130  198   83  216  138  467   75  125  176  419  228
      104  170  212  284   50   75  308  234  111  105  781  113  247  322   94
      487  200  257   56  130  347   57   41   47   35  265  132   90  171  161
       42   94   74   63   46  264   56   93   53   50   25  117   24   85  287
       72  220  107   32  116  165   23   57   43   45   46   19   29   47   78
      139   62   71   22   36   60   62   20   37   88   55   29   72   63   28
       28  121   45   49   56   29   31   11   37   11   16   70   22   24  186
       14   20  147  104   42   51   55   43   71  125   53   59   17   30   75
       76    8   62   19   63   26  110   32   86   15  100   59   26  107   60
       80  129   26   39   75   33  128   13   12   57   19   26   27   37   31
       47  283   31   25   65   33   10    1   25   28   33   42   27   18   17
      190   96   15  108   55   58   19   62   75   13    6   27   45    2   19
       13   24   38   36   16   57   25   89   19   65   18   15   25   37   63
       64   46   21   21   12    8   45   29    6   20   93   17   20   57    7
       20   11   32    8    7   13   14   23   31   83   19   26   24   13    8
       41   19    8   25   14   10   35   46   12    6   65   40   68    0   11
       78   15    2   96    9   12   38    8   31    3   12   47   51   12   31
        6   15   37   20   40   18   25    4    4   69   10    6   48   17   34
       11   19   29    5   13   49   38   79   34   19   34    5   19   20    6
       29   26    5   21   17   35    7   36   20    6    9   25   11  220    2
       15   17   32   20   14   35    9    4   31    6   15   45    6    6   16
        9   35    9   13   14    3    3   45  106  178    8    1    7   11    5
        9    9   34    9   27    9   35   32    3   16    4   26    8   39   34
        8    7    0    9   52   69   18    6   23    3   45    5   30    4    1
       10   20   41   19   21   13   54   13   33   28    6   29   38    0    8
       16   28   37    2    3    9    5   20   12    5   29    8   14   15   10
       32    4   11    1   13    6   23   33    3    5   32    6    4    2    5
       85    0    1   13    6   15   54   13    3   16   35    1    6    0    5
        7   12    9    5    9    4    5   82   10    8    6    3   18    8   11
        7   34   17    9   43    4    8    4   10   11   19   14   28    5   15
        0   18   17    1   20    9   21   34   14    4    0   33   12    2   38
        2    8    9   21    4    0   13   43   11   42    6    0   11   14   73
       18   25   11   13    1    5    1    3    9   21    8    2    5    4   19
       24   11    4    1   14   31   11    4    6    7   11    5   28    3    7
        5    8    7    1    3   10    1    0    1    1   85   11    4   41   12
        3    6   18    1    4    4   11    7    8   26    3    2    4   13    9
       10   29    9    1    1    6   14    3   11    2    3    8   10    9   51
       12    4   10    8   28    8    8    3    5    4    6   10    1    8    1
        1    9    6   68   11    1   10    1   19    4    1    9    3    8    2
        4   19    1    4    5   26   22   18   11    8    2    7   25    3    0
        7   13    5    1    1    4    8   12    1   16   47    1    2   26   17
        8   12    1    1   17    5    2    1    8    4    4    6    0    5    2
        1    5   14    2    1    1    7    1    6   10   26   54    6   12    3
        2    4    3   19   11    0    7    8    0   12    6   10    4   17    7
        1   10    0   35    9    0    3    8    5   22   10   15    0    7    2
       16    2    1    4    5    3   12    3   14    6    2    4    5   10    3
        4    8   12    8    2    5    4    0    0   14   19    7    4    4    6
        1    2    0    1    6    6    9    8    2    7   13    1    2    7    1
        4    2    3    0    3    4   10    0   12   52   14    1    1    6    0
        4    8    6    1    2   11    3    3    4    0    2    1    0    6    3
       33    5   15    0    3   38    0   14    2    8    0    2    2    0    5
       11    5    2   21    5    0    2    1   42    8    1    9    1    1   11
        0   10    2    3   43    9    3    9    2    0   10    1   10    5    3
       10    1   12    6    0    3    1    3    0    4    3    0   12    1    6
        3    0    1    1    1    0    1    3    2    2   11    4   11   16   14
        1   13    2    2    6    9   12    5    0    0    1    1    2    4    4
       15    4    1   15   11    5    7    4    6    9   11    3    3    2    5
        0    5    0    9    3   10   25    7   12    4    8   10    2   10    7
        1    1    0    1    2    0    4    1    1    3    1   10   37    0    2
        8    0    5    0   12   12    1    5    2    2   14    0    0    1    6
        0    1    2    0    0    0    0    0    5    4    0    2    3    0    0
        0    1    5    0    2    0    3   20    1    0    0    4    1    1    5
        6    2    4    6    0    1    8    2    3    0    5    3    0    0    1
        0    1    1    1    3    4    0    1    0    3    3    3    0    3    8
        1    0    2    2    3    5    7    2    0    4] 
    
    and [1884 1858 1794  580  698  782 1026  798  868  364  537  423  250  551  489
      278  266  367  270  270  230  284  216  282  308  241   66  146  144  127
      185  336  138  291  215  169  123  102  228  215  220  187  168  254  206
      234  234  216  291   92   86  118  234  108   47   68  135   96  128  195
       80   76   85   26  139  126  122  199  121   53   62   82   64   78   73
      138   53  147  115  189   76   60  100   73  110   64   84   58   92   57
       82   85   88  160   73   58   37   91  150   59   47   44   40  105   94
       41   70   64   61   26   24   38  197  166   68   62   43   33    7   12
      113   33   53   63  119   66   54   86   87   33   74   19   27   59   46
       47   41   58   55   22   50   88   36   43   54   20   31   27   53   64
       59   28   57   57   93   57   52   66   42   35   34   80   16   30   38
       20   44   13   33   12   56   70   14   68   27   43   18   26   48   21
       46   49   60   30   49   13   28    0   25   32   33   29   42   34   32
       28   25   29   33   40   43   39   48   11   34   21   34   19    1   44
       27   39   38   16   26   33   23   45   32   29   37   24   30   32   15
       28   36   23   18   15   17   15   54   21   49   17   35   39   10   64
       19   25   28   26   46   21   21   10   18   13    5   34   33   49   18
       13   65    8   42   23   26   35   28   24   23   25   78   25   32   36
        8   23   19    6   52   12   26   33   13   12   25   27   28   38   30
       31    1   15   29   30   18   14   10  132   25   12   14   24   29   15
        7   17    8   43   30   26   29   24   14   25   25    5   25   13   22
       22   20   20   12    6   39   15   27   17   26    8   28   32    2    8
       17    8   19   38   33   55   33   21   40   23   26   18   22   16   17
       23    2   19   15   36    8   25   15   23   10   20   18   10   25   16
       24    1    3    6   20   27   15   20   10    7   30    9   10    2   35
        8   13   14   11   17   21   11   10   24   10   18   25   12    9    3
       27   30   20   28   16   13    8    7   15   11   39   10    8    5   15
       12   11   12   21   17   19   22   17    2    8   14   31   25   11   33
        7    9    9    5   13   15   30    5   11   97    9    7   17   13    9
        6    3    2    4   18    4    9   20    7   19    6    8    6   13    5
       15   37   11    2   13   31   13   15    5    1   30   18   16    2    7
       24    3    4    3   10   14    6    2    9    9    3    6   13   15    8
        2    4   13    5    8   15   13    8    7   37    8   28   14   12    6
        6   24    7    9   32    3   13    9   22   26   23    5    4    8    8
        7   15   19    5   25   12   19    9   26    7   10   14    8   15   25
        1    2   16    9   32    2   13   10   11   12    5   27   18    6   13
       12   16    5   10    8   14    8    1    0    4    6   10   25    6   10
       15   14    7    4   16   12   11   14    3    5   20    9   33   10    9
       25    2    1   10   13    4   11   19    7   14   24   13   13   23    6
        6   20   19    2    7   14   17    2   12   19    2    5   24    3    7
       16    4    9    4   13    2   14   10    3    5    4    6    1   10    0
        6    5    5   16    3    7   34    3   29   16    4    6   11   15    0
        3    1   13    8   12    6    4    6   16    4    2    9    7    6    8
        6    7   11    3   11   15   11    8   11   16    9    2   11    3   17
       15    2   16    3    8    5    5    8    2   17    7    7    8    4    3
       10    5   13    6    7    0   11    1    2   27   10    5    4   13   13
        3    1    6    4    4    2    7    5    5    4    6    9   11   13    7
       18    0    0    6    6    0    5    6    8    6   17   15    7    6    3
        5   11    9    7    1   10   11    9   14    8    7    4   16    8   10
        3   43    2    3   12    4    4    9   16   11    3    3    5   21    6
        2    6    4    4    4    4    6   11    6    0    9    6    9    7    8
       10    5    6    0    7   12   21    5   12    8   13    2    6    2    2
        2   12   14    9    4    4   11    3    0   10    5    4    1    6    3
       13   13    5    0    5    2    5   14    1    2    5    6    4    1    7
       11    9   12   13    3    8   14    4   14    0    5    8   16    8    9
       29   11   11    3    6   13    4    9    8    1    3    4    4    5    1
        1    2    0    4    4    4    5    4    3   13    5    3    6    7    2
        1    7   22    1    3    2    3    5    3   19    0    3    7    3    7
       10    5    2    1    5   17    8    8    3   17    5   12    5   10    1
        7   20    1    6    9    1    3    2    4    0    5    7    1    6    0
        8   15    4    1    5    2    3    2   16    2    0    5    4    3    7
       12   11    5    1    0    6    0    2    6    4    5    4    0    3    8
        5    1    1    1   13    2    1    5   11    1    0    8    1    0    6
        4    2    4   11   13    5    2    8    3    2    0    1   17    4    3
        2    3    4   11    4    0    2    3    7    0    2    2    1    0    8
        2    2    3    5    2    1    7    4    6    3    6    4    1   15   12
        5    6   27    6    5    6    8    3    2    4] 
    
    a [628 838 156 738 782 280 333 233  85 848 506 376 261  50 522 895 309  68
      85 149 420 132 851 447 134 530 199  56 116 435 470 180  40 438 120 119
      94  83  87 130  91 182  95  48 230 122  81  85  48  47 254  72  55  83
      39  37 218  75 176  45 187 148 210 113  18  63  41  63 104  98  33  36
      68  31 104  36 135  85 107 121 125  55  94 425 108 121 123 587  50 109
      87 193  69  40  54  63  55  42 149 140  14  53  12  33  53  32  13  55
      51  77  43  93  42  22  72 277  33  15   8  80  11 136  45 131  34  97
      40  42  17  27  22  13  47  14  44  32 102 132  33  95  38   2  48  84
      36  16  11  14  47  12  25  55  42  54   7  30  10  22  27  28  65  76
     112  28  49  28  18 125  15  12  31  17  20  19  10 108  16   8  20  69
      19  18 118   3  23  10  24   3  12  25  46  28   7   7  13  32  17  40
      25  57   7   8  18  19  98   9 131  11   6  10  33  50  38  28  15   3
      40  19  22   6  87  13  52  35 125  27  31  81   3   8  12  15  57  14
      11   1  13  70   5  25  36  54  17  17  26  97 170  15  38  76  16  10
      28  51  42  48  13  25  13  12   9  27  13   7   1  13  20  18  15  13
      22   9   6   3  21   8  11  27   7   8   8  17  25   6  22  20  11  21
      11  23  34   0  63   6  24   8  11  25  28  15  14 112   6  30  11  19
      54   5  19   1   2   6  14   8  30   7   1  40   2   8  45  12   3  22
       2  23   6   6   1   0   9  38  20  25   5   3   7  12   7   7  12   8
      55  45  37  12   3  29  13   8  13   8  25   5   8  11  23   9  16   8
       8   2  11  17  24   2   7   7  14   7  42   6  32  15  10   3   8  25
       5   2   5   6  61  15   4   5   4  43  17   4   0   4 100   4  15 124
      19  25  16  10  12   2   4  10  20   7   3  28  14  16  21  10  16 159
      19  29   7   5   5  29   2  17  21  19   4   9   3   4 137   1   7   8
      11   4   2   3 142  31   6   2   5   7   7   4   6   1   1   3  20   2
       1   4  85   7  14   3  14   2  13  13  13  11  18   0  29   6   0   8
       5   4   5  13   0   8  12   5  19   3   3   0  20  39  12  33  26  15
      22  21   7  11   4  15   5  16  18   5   5   1  31   4  18  18   4  10
       3  13   9  46  19  15  14  17  12   3  11  16   9  23  22  27  20   3
      11  10   7  32   4  59   4  34  29   7   0   8   2   5   6   5  26   8
      11  38   9   1   3   0  10  49   4  17   1   3   4   3   1   2   0  14
       1   7   1  18  12   7  34  45   2  14   6   6   0  16   5  26   6   1
       1   3   1   2   0  21  22   3   3   2   1  16   2   6   5   3  75  13
       9  11   4  12   0   1  13   5  11   4   6   3   1   5   5  10   7  16
       6   1   3   2   9   8   5  20   5   6  13  13   1   5  21   3   7   0
      25   5  19   1   2   9   5   6   4   3  11   1  16   2   2   3   3   8
      12   3   7   0   3   0  13   0  15  35   2   2   1   1   1  11   6   4
       4   6   0   4   6   4   9   1   6   3  41   9   2   1  12  14  25  31
       7   3  14   2   2   7  17   7   7   1   1   1  24  13  10   6  21  13
       1   1  29   4   1   2  15  18   5  19  34  13  31  20   7   7   1  23
       6  22   0  53   5  31   3  70   0  13   4   7   7  10   1  25  13  11
      10   5   1   3  14  53   4   6   8  19   8   3   1   0   0   9   0   9
      12  26   2   0  17   6   8  13   0   4   3   2  10   3   2   6   7  11
       7   5   0   9   1   3   2  20   4  35  12   0   2   2   0   1  16   4
       1   2  20   4   4   0   2   5   3   1   4   3  12   3   4   5   1  16
       8   1  12   1   2   0   0   1   3   4   1   2   4   6   1   1   8   3
       3  11   5   5   4   3   9  31  19  20  12  10   3   0   2   2  12   2
      31   3   3  32   1  25   1   2   0   1   0   2   3  11   5   1  13  25
       2  20  27  26   5   0   0   4   2   4   8   1   1  22   3   3   1   2
       8   0   5   2   1   4   1   0   0   1  31   0  48  28  11   4   0   0
      10   2   3   0   3  36   2   1   5   3  13   8   0   1   0  25  17  25
       0  27  14   2   9  25   6   1   0  10  28  19   0  11   8   1   1   3
       4   3   6   2   0  26   4   5   2  11   1   8   2   8   1   2   0   1
      12   9   0   0   3   4   6   7   6   1   6   4  15   9  28   3   7   1
       1   0   1   3   0   4  15   0   6   1   6   6   0   4  10   2   2  10
       2   0   2   7   0   4   2  10   8   2] 
    
    me [2508  934  615 1700 1026  333  694  426  257  357  648  779  300  228  309
      291  216  260  177  440  164  256  338  520   58  288  194  160  332  406
      535  181  160  185  156  146  199  202  238  132  176  144  115  152   53
      284  118  286  143   99  135  107   51  101  112  215   61  187  293  150
       82   85  359  122  773  187   63  113  158  111  112   78  148  697   72
       54  103  150   30   34   68   63   57   38   62   53   37   19   63  233
       29  108   36  101   96   66   40   85   21   29   68   47  121   55   62
       68   60   42  119   60   62   52   78   21   67   43   77   35   42  108
       53   29   67   30   79   52   40   31   18   37   63   38   42   55  203
       13   45   51   17   48   77   14   36   69  114   48   55   83   42   10
        9   18   42   30   17   85   42   43    5   12  165   43   15   18  144
       49   90   40   28  101    7   43   29   14   79   10   13   17   10   38
       30   15   13   14   34  109    8    4   20   19   11   21   44   54   23
       24   28   70   11   26   55   23  108   21    7    8   19    8   10    7
       38   52   71   35    9   12   17   10    8   43    8    8   18   46    7
       17    8   12   20   17   16   12   72   13   15   15   21   11   15   17
        5   15    9   43   18    5   15   14   19   15   40   19   37   28   23
       10   17   44    2   46    4   27   17  129   27   16   32    0  134   12
       15   48    5    8   19    8   13    8    5    6   49    2    6    4    6
        4   17   23   22   37   10   11   14   18    6   12    1    5   15    3
       34   10   20    8   12   16    4   50   10   22   18    8    8   13    6
        5   12   30   12    5    2   29   13   16   20    2   34    8    6    2
        3   64   44    6    6    7    7   15   10    5   11   49    3   19    5
        0   84   15    1    4    5   10    7   28    7    8    7    4    0   11
       28   19    6    3    5    5    3   21   12    8   29   22   13    9   13
       16    6    7   42    3    1    5    6   14    5   20    2    9    0    3
        5    2   34   17   12   14   23    7    2   72    6   97    7   15    4
       13   17    0    5    1    9    3    4    0   11   13    2   28    8    0
       43   15   13    7   31   13    7    3    2    7   32   21   26   13    2
       32    0   11   25   15   16   22   10   19   14   30    1    4    2   10
       23    9    1    5   13    6    1    0    1   12    6    1    4    0    2
       40    9   11    3    6    5   23    8    7   12   16    3    2    3    7
       28   31   11    4   15    8   23    5   11   12   46    1    7    4    0
       16    3   20   43    0    3    3    6    1    1   21    0   25    6    9
       16   16   12   40   14    3    1    8    6    6    6    3    7   16    6
       16   11    0    1    8    8   33    1   11    2   24   49    4    6    4
        8    4   10    4    3    7    4    5    2    5    1    5   12    0    0
        2    2    7    1    4    1    2    3   10   12    1   14    6    3    6
        3   23   21    3    2   25   50   16    0    5    7    8    1    9    2
        9    1    2    2    3    4    6    0    1    6    2    1    2   14   13
        0    3   10    4    9    2    8   14    0    5    2    2    0   55    0
        0    3    0    2    0   15    3    5    0    7    6   15    2    7   10
        5    8    2    6    2    3    1    5    4    1   13    7    0    8   24
        6    2    4    4    4    3    5    0    3   15    3    3    1    9    4
        8    2    0    1    2    6   28    4    4    1    0    0    2   10    0
        1    5    1   36   14    1    6    0    0    1    3    1   26    3    1
        1    0    1   10   19    2   22    5    1    0    0    3    8    1    4
        8    1    3    1    3    8    6    0    1   12    3    1    3    0    5
        9    1    8    0    3    0    3    0    2    1   17   20    0    3    5
        0    7    0    1    9    3    5    3    7    3    4    5    0    6    2
        3    9   16    0    7    1    0    4    1    5    5    5    7    1    8
        3    3    5    1    9    4    2    1    9    2    0   11    0    2    4
       24    2    8    3    1    1    5    8    7    7    1    0    3    2    1
        2    6    2    0   14    2    2    0    1    4    7    1   12    1    2
        5    2    4    2    2    0    0    7    3    2    2    1    5    4    5
        2    3    1    1    4    6    5    2    3    9    0    4    1    0    1
        0   17    1    0    2   13    1    3    4    0    4    0    0    4    9
        3    5    3    2    1    3    3    0    3    5    1   16    0    0   13
       21    0   27    1    3    5    9    0    4    4    1    1    3    1    4
        2    0    1    4    3    3   11    2    1    0    0    6    5   37    5
        0    0    1   12    1    1    0    4    0    7    2    3    0    8    3
        0    1    0   12    2    1    4    2    1    0    1    3    1    1    3
       12    2    2   14    0    0    0    2    2    0    0    1    9    0    1
        7    2    1    5   12    6    0   19    2    4    0    0    1    3    2
        3    6    6   14    1   11    8    1    3    1    1   13    0    2    1
        5    1    0    0    2    1    0    4    1    1    1    4    3   12    2
        1    1    0    0    5    2    7    4    0    2] 
    
    it [1040 1331  571 1059  798  233  426  750  225  341  456  181  195   97  165
       75  205  444  245  290  429  251  386  220  245  252  197  734  171  263
      191  437  167   74  197   96  312  160  201  381  146   56   69  121   83
       94  132  146  105  265   52  178   59   92  155  112  303   88  420  149
      102  130  281  115  224  178    4   90   29  113  160  127  246   66   57
       60   68   43   31   26   66  178   36   11   56   60   18    9   43  240
       17  142   60  171  161   57   81   50   32   33   71   34   25   71   42
      167   19   36   15  100   28   15   55   27   16   19   90   37   55   63
      116   46   86   25   29   24  156   18  136   39   18   29   85   51   28
       27   36   45   21   26   35    8    5  102   19   44   87   33   37   20
        8   62    3   12    7   22   16    4   17    5   32   26   10   26   46
       18   60   36   41   32   17   71   48   14   38   30    7   15   18   10
       15   21    8    5   34    8    9   10   37   24   32   30   12   17   34
       46   19   86   47   10   18   14   43   22   24   22    8   42    2    3
       28    4   31   22    9    6   11   80    9    4   11  117   20   14    3
       17   16   10   12    1   25   48    5   13   28   14    7   29    4   22
       10   12    8   13   10    8    5    4   43    2    4   23   51    0    6
       15    5    8    1   79    5  102   13   27   15   16   20    2   86    7
       73    9   22    9    1   12   13    4    1   37   14    3   66    2   12
        7   13   22   38    5   23   15   14   10   13   17    5    2    5    9
        5    0   35   13    1   33   15    2   17    0    6   30   22   20    1
        3    5    5    2   48    2    6   17    3    6   19   14    9   22    0
        1   28   57    2   51   10   18    9   36    3    9   31    1   14    6
        3   17    8    3   12   30    8   43   10    0    5    2   50    1    8
        0    4    2   30    1    8   23   10    8   14    4   10    4   13   16
       79   22   27   19   50    5    1    6   11   19    5    2    4    3   10
        4    0    1    2    6    2    4   27   12    9    3   10    8    3    4
        5   17    2    6    6   12   20    6    5   37    2    5    5   14    2
        2    2   39   13    4    5    1    5    5  151    0    1   16    0    2
        0    2    0    5   11   10    4    2    3   10    4    5    2   11   22
        3   41    0    2   32   20    1    2    1    7    2    1    6    2    1
        6   56   33   76   80    5    2    2    3    2    2    2   12   13   43
       15    3    3    4   19    9    3    4    4    5   26    8   10    1    8
       12    1    3    8    1    0    0    0    2   18   14    0    0   11   10
       76   28    2    0   16    5    1    2   25    0    5    8    9    1    7
        0   10    2    4    1    2    5    3    4    4    7    3    2    2   10
        3    3    1    0    4   10    7    2    2   13    2   45    4    1    0
        0    0    0    2   16    1    1    4   14    2    5    1    1    0    8
        1   10   53    3    7    3    8    0   36    1   11    2    0    6    4
       39   16    0   13   13    6    4    5    1    0   10    0    6   12    0
        2    1    5   12    9    1    5    0   15    0    1    0    2    2    0
        1    2    2    3    0    4    2    6    6    0    1   15    0    7    2
        7    9    2    1    0    4   25    8    4    2    1    0    3   40    6
        1   50    0    1   51   20    7    0    1    3    2    8    1    0    0
        1    6    1    3   12    6    5    2    3    1    1    8    1    0    3
        1    5    1    1    6    0    7    4    1    2    2    3    4    5    2
        0    4    1    1    7    0    7    0   18   14    2    4    3    6    4
        5    0    0    4   30    2   12    0    7    3    2    1    0    0    1
       46    0    6    2    0    0    0    1    4    4    8    1    2    3   11
        0    5   10    0    4    3    1    3    3    4    3    2    0    0    3
        3    1   58    2    9    1    0    1    2    4    0    0    4    3    2
        5    0    0    0    3    5    1    1    2    1    6    1    0   22    3
        0    3    1   12    6    7    1    2    1    0    3    0    2    2    1
       11    0    3    9    1    3    0    0    1    1    1    1    5    6    0
        0    3    3    0    2    0    2    0    5    1    1    1   11    1    1
        1    2    3   18    1    0    1    1    2    3    0    1    1    3    1
        0    0    0    3    0    0    0    9    0    1   22    2    2    0    0
        0    1    1    2    1    0    8    0    9    3    2    0    0    5    4
        0    3    0    1    3    8    6    0    0    0    5    0    7    8    5
        0    0    0    2    0    1   20    2    0    0    0    2    7    0   17
        1    0    2    4    0    1    0    0    3    2    0    1    0   11    1
        1    7    2    0    1    3    0    1    1    1    4    2    1    0    5
        0    3    0    3    1    2    0    0    1   32    0    1    7    1    6
        0    1    4    3    1    5    3    0    0    1    0    0    1    1    1
        0    0    7    2    3    1    0    0    4    4    2    0    0    0    2
        3    0    1    2    1    2    0    1    0    3    1    0    4    5    2
        0    1   22    0    1    4    1    0    0    0] 
    
    my [790 835 150 732 868  85 257 225 594 964 665 586 102  37 189 505 212 403
      86 146 461 115 143 206  26 115 199  95 397 148 228 199  60 144 113 146
      82  56 112  79  65 172  82  44 102 105 213  86  68  78 166 111  52  38
      30  19  67  54  61  44  75 124 138  95  33  97 123  78  86  62  39  59
      38  37  78  67  80  39  22  44  26  52  27  54 102  43 644  74  59  89
     456  32  87  57  32  30  30   9  57  72   9  21  18  65  79  66   8  38
      89  28  52  26  28  19  56  28 110  16  30  20  31  66  41  12  40  68
      76 158   7  30  42   5  27  35  26 324  29  35  16  46  43   6  13  51
      10  18  22  33  68   5   6  14  15  66   1  17  22  17   2   8  18  37
      38  38  54   5  13  49  29  28  23  42  19  12   7  11   6  22   8   4
      12   9  22  10  25  26  11  19  19  16  36   2  27  10  11   2   6  27
      29  13  20  84  12  12  13   5  29  23   1  22  45 121  35  13 193   2
      88  36  14  12  18   6  16  15  24  12  80  29  69  49   7  12  32  18
       4   1  61   5  46   6   4  14 124  42   3  31  27   8  27   2  36  28
      26  12  40  20  18  12   3   7   4   8   3  17   4  13   4  77  17   9
       3   9   6   0  19  36  17   3   5   3   9  10   5 104   4   2  24   4
       5  14  37   6  22  17  11   6   3  21  18   3  53  61   4  22  44   6
      17  26   8   0   2  22  31   3  21  29   1   0  29   4   5  16   4   8
      84   1  18 103   9   2  17  24  18 127  11   5  11  12   0  21   6   4
       6   4  36  39  15   4   4  12  10  35   2  18   4   0   7   6   9  14
      19   1  14  12   3   8   8   9   8   7  17   5  20   4   6  26   5   4
       0   9   6  12  22   3   6   4  72   0   5  11  23   0  12   2   9   2
      21   7   2  33   4   2   5   6   6  13  19  33   8  17   7   5  17   1
      18   3  23   4  23  22   2  11   4  16   2   3   9   3   5   3   6   4
       8   9   2   6   0   5  17   4   1   8   3  43  12  34   2   5   8   5
      11   2  17   0  18   3   2   7  15   4  19  37   5   0  16   4   1   6
       7   4   1   8   3  11   8   1   3   8   1   3   6   8   7   1   5   6
       4   0   9   6  16   6   8  15   0  12  46   7   6   0   5   3  14   1
      14   3   1   4   5   3  14   7  28   3   6  29   3  11  13   3  24   7
       1   2   1   1   2   4  28   4   6   2   5   0   8  12   7  10   4   1
      15   8   3  25   0   3   5   3   5   5   1   1   5   0   5   9   5  10
       1   8   2   7   4   0   1  16   1   4  31   5   0  13   3   1   3   8
       3   7   2   4   2   9  53   2   4   2  21   9  47   9   3  26   2  11
       4   0  11   8   3   0   0  11   1   7   9   9   2   2  13   1   8   6
       6   2   0   9   0   1   1   1   3   1  10   5  15   8   7  19   2   1
      15   6  26   1   1   1   7   0  12   0   3   2   8   1   0   0   0  19
      16   5   3   8   1  31   5   4   2   2   4  18   4   6   2   0  48   3
       5   7   0   6   0   0   4   3   0   6   5   2   1  26   0   1  16   6
       2   2   1  10   6  26   2   0  13   2   8   0   0   1   3  17   1   2
       1  10   5   1  15   1   3   6   1   2   3  11   2  13  15  13   6   5
       7   8  13   7  13   4   1   0   5   1   3   6   7   6   1   6   1  10
      18   4  19   7   8   1   1   1   1   2   6   0  20   3   2   1   7   4
       4   1   3   2   2   8   0  17   5   1   1   3   2  12   2  11   7  11
      10   5  20   3   2   2   0   1   3   2   5   1  15   5   0   9   1   6
       1   5   3   3   3   0   0   3   2   3  11   0  10   3   0   1   2   1
       4   5  27   2  20  12  12   0   1  13   4   1   5   4   4   0  11  36
       0   2   0   2   1   0   2   1   1   1   0   4   1   0   0   9   8   4
       0   2   1  16   0   0   3   3   1  56   1  10   2   2   1   1   0  10
      15   0  15  10   3   0   6   1   0   3  15   4   0   1   3   5   4  11
       6   2   0   4  10  28   4   5   1   0   5   1   1   3   2   1   2   1
       5   6   2   3   1   1   0   1   0   3  11   9   0   3   1   0   0   3
       0   0   4   0   1   1   3   0   6   0   1   3   1   1   5   0  28   1
       0  17  12   7   0   5   5   1   1   6   4   1   6   2   0   3   2   3
      11   0   0  10   2   0   0   3   6   6   0   3   4   3   3   2   6   4
       0   1   8   3  10   4   0   0   0   1   2   1   3   0   2   0   0   4
      18   1   6   2   4   2   3   1   5   3] 
    
    in [ 608  356 2450  185  364  848  357  341  964  110   78  561  122  577  335
      123  186  145   34   41   84   92   80   62  106   73   76   27   46   61
      178  265   55   66   71  205   31   23   37  111   31   93   55   44   96
       45  142  144   66   17   93   15  116   67   59   29   81   81    6   48
       19   57   30   35   36  163   47   25   14   17    6   42   29    5   15
       23   24   29   83  118   26   25   35   46   28    9  171   50   79   29
      160   25   38   12   14   23   27   17   26  165   11   15   12    9    6
       57   30   60   14   13    5   14   20   78   69   23   10   15   22   35
       34   24    5   21   16   19   23  208   48   16   42    8   15   13   26
       97   17   28    7   12   16   58   35   77   14    6    8   16   19   40
       21   14   14   25   74    9   38   17   23    9    8    3    8    9   13
       17    5   24   33   14   10    2    6    6  109   19   37   21    7    4
       22    1   37   21    8    5   20    3   10   11   35   16   19   18    8
        6   25    8   57   38   15    2    3    7   23   10   15   10    4   17
        4   70   25   11   18   21   17    6   41    4   12    0   21    8   40
        8   53    7   14   48    4    5    7    1   16    8   17    1   12    9
        9   10   60    6   28    9   24    1    5   19   11    2   16    4   13
       10   19    3   15   11   26    8   14    0    1    6    1   14    0    6
        2   16    0    4   20   16   15    5    7    4    1   67   13   31   15
       25    3   32   35    3    7    8   12   13    3    8   25   47    7    9
        1    2    2   38    4   14    7    3   25   25    2   10    7    2    5
       18    9    3    9    5   13    0    2   13  129    8    1   15    0    1
       18    5    6   46    5   12    4    6    5   17   10    2   59   26   19
        6    6    1   94    4    1   32    6    3    6    1    3   10    9    4
        4    1    2    1    1   12    3    4   13    4   11    3   30   10    4
        0    3    1    4    1    0    6    8    2    3   10    8   11    7    3
        3   16    1    9    6    4   27    9    2    1   77    3    5    4   62
       10    6   48    4   55    6    3   36    1   27   24   24    1    1   22
        3    2    2    0    4   28   29    4   10    8   10   39    2    5   19
       10    1    2    7    7    1    9    5    4    7    3    0    3    5    0
       11    8   11    4   13    1   20    1    6    2   16   26    9    0   16
        4    0    1    0    2   14    9    0   45    4    1    3    2   16    3
        1    4    3    2   18    4    8   12    3   20    2    2    6    3    9
        0    0    8   12   13    3   53   10    7    5    6    0    2    2    0
        2   13    5    0    1    1   14    3    5    2   17    2   15    0    3
        0    1   21    4    7    1    3    6    0    8    2    3    5    2    1
        4    1   29   13    5    0    7    2    0    3    3    2    3    1    2
       12    5    3    0    3    1   17   12    1    4    5    2   10   41    3
        1    0    1    7    0    1    3    5    0   68    0    5    0   20    2
        1   12    2    5    8    3   20   11   41   12    1    1    4    3    0
       46    9    1    0    3    0    7    2    2   13    0    4    0    2    0
       28    1    0    4   24    0    1    0   15    4   23    0   26    0    0
        4    6    6   29    1    1    4    6    2    0    4    2   20    9    0
        1    2    4    1    4    6    5    1   16    1    6   10   32    0    5
        6   40    1    0    8    2   20    2    1   11    2    4    9    0    0
        2    6    0    2    1    1    1    1    0   14   23    5    1    3    1
        1    1   20    0    2   13    1   18    0    1   11    4    3    7   14
        0    0    6   11    3    1    3    0   13    1    1    5   22   17    1
        0    0    3    8    9   14    3    0    4    5    1   12    1    2    3
       12    0   11   33    2    2    1   14   12    9    1   28    3    6    1
        3    0    0    0    3   11    4    0    2    0   13    2    1   11    5
        2    0    1   54    8    1    2    5    1    2    0    3    1    0    0
        7    4    2    3    7    1   15   25    0   15    5    4   12    4    1
        4    0    0    0    0    1    7    0    2    1    1    0    0    1    2
        5    1    3    2   11    2    3    1    4    6    2    5    2    4    2
        0    3    0    1    4    5    2    3    0    6    1    0   12    5   12
        7    0    3   10    3    0    4    3    1    1    1    3    0    2    0
        0    0    6    1    0    5    0    1    8    2   30    0    3    2    2
        0    4    2    3    4    5    3    0   10    9    0    2    0    1    0
        4    7    1    0    7    0    2    0   20    8    2    3    0    5    1
       10    8    0    1    3    4    6    0    1    2    4    1    2    0    1
        0    4    3    0    3    5    3    0    5   15    1    4    1    3    0
        0    4    3    0    0    0    0    8    2    0    0    3    0    1    5
        2    7    1    1    1    4   19    3   14    2    0    4    5    0    0
       46    3    4    7    2    1    2    4    2    0    1    1    1    0    1
        2    6    1    0    3   17   25    5    3    0    0   18    0    0    0
        0    4    0   32    1    2    3    0    2    7] 
    



```python
def matrix_transform(space, numdim):
    # space is a dictionary mapping words to vectors.
    # combine those into a big matrix.
    spacematrix = np.empty((len(space.keys()), numdim))

    rowlabels = sorted(space.keys())

    for index, word in enumerate(rowlabels):
        spacematrix[index] = space[word]

    return spacematrix
```


```python
def test_matrixtransform():
    numdims = 50
    # which words to use as targets and context words?
    ktw = do_word_count(text_df, numdims)
    # mapping words to an index, which will be their column
    # in the table of counts
    wi = make_word_index(ktw)
    words_in_order = sorted(wi.keys(), key=lambda w:wi[w])
    
    print("word index:")
    for word in words_in_order:
        print(word, wi[word], end=" ")
    print("\n")

    space = make_space(text_df, wi, numdims)
    svdspace = matrix_transform(space, numdims)
    
    print("some vectors")
    for w in words_in_order[:10]:
        print("--------------", "\n", w)
        print("raw", space[w])
        print("svd", svdspace)
        print(svdspace[-3])
        print(svdspace.shape)
        
```


```python
test_matrixtransform()
```

    word index:
    you 0 i 1 the 2 to 3 and 4 a 5 me 6 it 7 my 8 in 9 on 10 love 11 that 12 your 13 i'm 14 of 15 be 16 all 17 know 18 don't 19 is 20 so 21 like 22 for 23 we 24 just 25 but 26 do 27 baby 28 got 29 with 30 up 31 no 32 it's 33 when 34 this 35 can 36 what 37 now 38 get 39 if 40 you're 41 one 42 go 43 time 44 she 45 out 46 down 47 come 48 can't 49 
    
    some vectors
    -------------- 
     you
    raw [2276 3546 1494 2571 1884  628 2508 1040  790  608  483 1659 1155  398  522
      448  589  511 1979 1028  352  553  637  768  158  498  599 1058  762  586
      689  348  269  294  779  194 1038  838  401  458 1041  222  185  379  199
       76  181  222  243  612]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)
    -------------- 
     i
    raw [3546 1908 1601 1510 1858  838  934 1331  835  356  311 1382 1277  627  319
      268  663  705 2264 1273  297  532  609  312  140  721  824 1014  500  946
      201  308  336  263  762  262 1020  675  380  441  586  198  221  449  290
       88  153  183  163  989]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)
    -------------- 
     the
    raw [1494 1601  676 1782 1794  156  615  571  150 2450 1406  424  747   91  698
     2190  318  927  195  217  780  197  344  688  359  318  343  219  196  366
      640  593  115  291  433  183  152  121  218  216  161  361  739  212  471
      184  368  407  125  120]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)
    -------------- 
     to
    raw [2571 1510 1782  492  580  738 1700 1059  732  185  300  479  257  392  394
      101 1055  225  421  377  245  267  219  268  235  410  179  483  204  620
      165  288  248  328  130  198   83  216  138  467   75  125  176  419  228
      104  170  212  284   50]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)
    -------------- 
     and
    raw [1884 1858 1794  580  698  782 1026  798  868  364  537  423  250  551  489
      278  266  367  270  270  230  284  216  282  308  241   66  146  144  127
      185  336  138  291  215  169  123  102  228  215  220  187  168  254  206
      234  234  216  291   92]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)
    -------------- 
     a
    raw [628 838 156 738 782 280 333 233  85 848 506 376 261  50 522 895 309  68
      85 149 420 132 851 447 134 530 199  56 116 435 470 180  40 438 120 119
      94  83  87 130  91 182  95  48 230 122  81  85  48  47]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)
    -------------- 
     me
    raw [2508  934  615 1700 1026  333  694  426  257  357  648  779  300  228  309
      291  216  260  177  440  164  256  338  520   58  288  194  160  332  406
      535  181  160  185  156  146  199  202  238  132  176  144  115  152   53
      284  118  286  143   99]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)
    -------------- 
     it
    raw [1040 1331  571 1059  798  233  426  750  225  341  456  181  195   97  165
       75  205  444  245  290  429  251  386  220  245  252  197  734  171  263
      191  437  167   74  197   96  312  160  201  381  146   56   69  121   83
       94  132  146  105  265]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)
    -------------- 
     my
    raw [790 835 150 732 868  85 257 225 594 964 665 586 102  37 189 505 212 403
      86 146 461 115 143 206  26 115 199  95 397 148 228 199  60 144 113 146
      82  56 112  79  65 172  82  44 102 105 213  86  68  78]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)
    -------------- 
     in
    raw [ 608  356 2450  185  364  848  357  341  964  110   78  561  122  577  335
      123  186  145   34   41   84   92   80   62  106   73   76   27   46   61
      178  265   55   66   71  205   31   23   37  111   31   93   55   44   96
       45  142  144   66   17]
    svd [[  628.   838.   156. ...,    85.    48.    47.]
     [  511.   705.   927. ...,    45.    61.    12.]
     [ 1884.  1858.  1794. ...,   216.   291.    92.]
     ..., 
     [ 2276.  3546.  1494. ...,   222.   243.   612.]
     [  222.   198.   361. ...,    47.     4.     6.]
     [  398.   627.    91. ...,    80.    52.    21.]]
    [ 2276.  3546.  1494.  2571.  1884.   628.  2508.  1040.   790.   608.
       483.  1659.  1155.   398.   522.   448.   589.   511.  1979.  1028.
       352.   553.   637.   768.   158.   498.   599.  1058.   762.   586.
       689.   348.   269.   294.   779.   194.  1038.   838.   401.   458.
      1041.   222.   185.   379.   199.    76.   181.   222.   243.   612.]
    (50, 50)



```python

```
